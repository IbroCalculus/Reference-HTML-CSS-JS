<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promises</title>
</head>
<body>
    

    <script>
        /*
        Promise is an object that manages asynchronous operations.
        You can wrap a promise object around an asynchronous code.
        A promise object promises to return a value. ie PENDING -> RESOLVED or REJECTED

        Syntax:
        const promise = new Promise((resolve, reject) => {
            // do something
        });
        
        */
        


        //-------------- METHOD 1: Using Callbacks/ Callback Hell --------------

        /*
        function walkDog(callback){
            setTimeout(() => {
                console.log('Dog walked');
                callback();
            }, 1500) 
        }

        
        function cleanKitchen(callback){
            setTimeout(() => {
                console.log('Kitchen cleaned');
                callback();
            }, 2500) 
        }
        
        function takeOutTrash(callback){
            setTimeout(() => {
                console.log('Trash taken out!!!');
                callback();
            }, 500) 
        }

        walkDog(() => {
            cleanKitchen(() => {
                takeOutTrash(() => {
                    console.log('All done!');
                })
            })
        })
        */

        
        //-------------- METHOD 2: Using Promises --------------
        function walkDog(){
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve('Dog walked');
                }, 1500) 
            })
        }

        function cleanKitchen(){
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve('Kitchen cleaned');
                }, 2500) 
            })
        }

        function takeOutTrash(){
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve('Trash taken out!!!');
                }, 500) 
            })
        }

        walkDog()
         .then(value => {console.log(value); return cleanKitchen()})
         .then(value => {console.log(value); return takeOutTrash()})
         .then(() => {
                console.log('All doneee!');
            })


        
    </script>
</body>
</html>