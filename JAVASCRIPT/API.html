<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API</title>
</head>
<body>
    

    <script>
        /*
        We use the fetch function for making HTTP requests to fetch the resources. ie JSON style data, image, file etc asynchronously.
        SYNTACS: fetch(url, {options}).         {options} is an optional parameter. default is GET
        ie fetch(url, {method: "POST"}).
        */


        //------------------------ METHOD 1: Using the fetch function -------------------------
                    
        /*  
        fetch("https://jsonplaceholder.typicode.com/posts", {method: "GET"})
            //.then(response => console.log(response))
            .then(response => response.json())
            .then(data => console.log(data))
        */

        fetch("https://pokeapi.co/api/v2/pokemon/pikachu", {method: "GET"})
            .then(response => {
                if(!response.ok) {
                    throw new Error(response.statusText);
                }
                console.log(`THE RESPONSE: ${response.status}`);  
                return response.json();
            })
            .then(data => `${console.log(data)}\n ${console.log(data.name)}\n ${console.log(data.id)}`)   // .then(data => {data.forEach(data => console.log(data.title)); console.log(`Number of elements = ${data.length}`);})
            .catch(error => console.log(error))


            
        //------------------------ METHOD 2: Using Async and Await -------------------------
        async function fetchData(){
            try{
                const response = await fetch("https://pokeapi.co/api/v2/pokemon/typhlosion", {method: "GET"});
                if(!response.ok) {
                    throw new Error(response.statusText);
                }  
                const data = await response.json();
                return `${console.log(data)}\n ${console.log(data.name)}\n ${console.log(data.id)}`;
            }
            catch(error){
                console.log(error);
            }
        }

        fetchData();




    </script>
</body>
</html>